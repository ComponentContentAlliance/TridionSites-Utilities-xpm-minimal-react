"use strict";var e=require("react/jsx-runtime"),t=require("react"),n=function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var o={background:"#007373",width:"100%",position:"fixed",bottom:0,padding:"10px 30px"},s={display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"30px"},r={display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},a={cursor:"pointer",color:"#fff",fontWeight:"bold",fontSize:"18px",background:"#034545",padding:"8px 22px",borderRadius:"3px",border:"1px solid #eee",display:"flex"},i={},c=function(t){var c=t.setToggleXpm,l=t.toggleXpm,d=p(),h=d.showPageEditorLink,u=d.editorUrl,g=d.pageId,m=d.showPage;return e.jsx("div",{className:"headlessXpmBar",style:n({},o),children:e.jsxs("div",{className:"headlessXpmBarContainer",style:n({},s),children:[e.jsx("div",{className:"headlessXpmBrandLogo",style:n({},i)}),e.jsxs("div",{className:"headlessXpmBarButtonGroup",style:n({},r),children:[h&&e.jsx("button",{className:"headlessXpmBarButton",onClick:function(){if(m){var e="".concat(u,"/page?item=").concat(g,"&tab=general.content");window.open(e,"_blank")}},style:n({},a),children:e.jsxs("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"form",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:[e.jsx("path",{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}),e.jsx("path",{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"})]})}),e.jsx("button",{className:"headlessXpmBarButton",onClick:function(){return c(!l)},title:"Edit Components",style:n({},a),children:e.jsx("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"})})})]})]})})},l=function(e){return"boolean"==typeof e?e:"string"==typeof e&&"true"===e.toLowerCase()},d=t.createContext(void 0),p=function(){var e=t.useContext(d);if(!e)throw new Error("useHeadlessXpmContext must be used within HeadlessXpmProvider");return e},h={headlessXpmRegion:{position:"relative",border:"1px solid transparent",transition:"border-color 0.2s ease"},headlessXpmRegionHover:{border:"2px solid #17c13e",boxShadow:"0 0 0 1px #17c13e"},headlessXpmIcon:{position:"absolute",top:"6px",right:"6px",background:"#007373",padding:"4px",borderRadius:"4px",textDecoration:"none",zIndex:999,transition:"opacity 0.3s ease",color:"#ffffff",height:"32px",width:"32px",display:"flex",alignItems:"center",justifyContent:"center"},headlessXpmContent:{}};exports.HeadlessXpmEditor=function(o){var s=o.tcmId,r=o.children,a=o.isPage,i=void 0!==a&&a,c=t.useState(!1),l=c[0],d=c[1],u=p(),g=u.editorUrl,m=u.icon,x=u.containerStyle,f=u.linkStyle,v=u.contentStyle,y=u.iconStyle,b=u.showExpSpaceEditor,X=u.toggleXpm,w=u.setPageId,j=u.setShowPage,S=u.staging,E=i?"".concat(g,"/page?item=").concat(s,"&tab=general.content"):"".concat(g,"/component?item=").concat(s,"&tab=general.content"),C={opacity:X||!b?1:0};return t.useEffect(function(){i&&(j(!0),w(s))},[i,s]),t.useEffect(function(){d(!l)},[X]),S?e.jsxs("div",{className:"headlessXpmRegion",style:n(n(n({},x),h.headlessXpmRegion),l?h.headlessXpmRegionHover:{}),onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:[(X||!b)&&e.jsx("a",{href:E,className:"headlessXpmIcon",target:"_blank",rel:"noopener noreferrer",title:"Edit in Experiance sapce",style:n(n(n(n({},C),f),h.headlessXpmIcon),{opacity:X||l?1:0,transition:"opacity 0.3s ease"}),children:m||e.jsx("svg",{style:y,viewBox:"64 64 896 896",focusable:"false","data-icon":"edit",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"})})}),e.jsx("div",{className:"headlessXpmContent",style:n(n({},v),h.headlessXpmContent),children:r})]}):e.jsx(e.Fragment,{children:r})},exports.HeadlessXpmProvider=function(n){var o=n.editorUrl,s=n.icon,r=n.children,a=n.linkStyle,i=n.containerStyle,p=n.contentStyle,h=n.iconStyle,u=n.showPageEditorLink,g=void 0!==u&&u,m=n.showExpSpaceEditor,x=void 0===m||m,f=n.staging,v=t.useState(!1),y=v[0],b=v[1],X=t.useState(!1),w=X[0],j=X[1],S=t.useState(""),E=S[0],C=S[1];return e.jsxs(d.Provider,{value:{editorUrl:o,icon:s,linkStyle:a,containerStyle:i,contentStyle:p,iconStyle:h,showExpSpaceEditor:x,showPageEditorLink:g,toggleXpm:y,pageId:E,showPage:w,setPageId:C,setShowPage:j,staging:l(f)},children:[r,l(f)&&x&&e.jsx(c,{setToggleXpm:b,toggleXpm:y})]})};
